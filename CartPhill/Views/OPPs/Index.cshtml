@using CartPhill.Models
@model IEnumerable<CartPhill.Models.OPP>

@{
    ViewBag.Title = "A lot of Shop!";
}

<h2>Welcome to the shop, please buy some wonderPhill things!</h2>

<p>
    @*@Html.ActionLink("Create New", "Create")*@
    @using (Html.BeginForm("Index", "OPPs", FormMethod.Get))
    {
        <p> Category: @Html.DropDownList("productCatagory", "ALL")
            Search by Name: @Html.TextBox("SearchString") <br/>
        </p>
        <p></p>
        <p>
            <input type="submit" value="Obey this filter" />
        </p>
    }
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Price)        
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Catagory)
        </th>
        <th class="cartBackground">
            Add to shopping cart
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
           $ @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Catagory)
        </td>
        <td>
           
            @Html.ActionLink("Details", "Details", new { id=item.Id }) 
         
            <p class="button">
                @Html.ActionLink("Add to cart", "AddToCart", "ShoppingCart", new { id = item.Id }, "")
            </p> </td>
    </tr>
}

</table>
